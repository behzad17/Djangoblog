{% extends "base.html" %} {% load ads_extras %} {% block content %}
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-2">
    <h1 class="mb-0 text-center">تبلیغات</h1>
    {% if user.is_authenticated %}
    <a href="{% url 'ads:create_ad' %}" class="btn btn-primary">
      <i class="fas fa-plus ms-2"></i>ایجاد تبلیغ
    </a>
    {% endif %}
  </div>
  <p class="text-muted text-center mb-5">
    مرور دسته‌بندی‌های تبلیغات. هر دسته‌بندی به فهرست تبلیغات فعال و تأیید شده
    خود منتهی می‌شود.
  </p>

  <!-- Category Icons Row -->
  <div class="row justify-content-center mb-4">
    {% for category in categories %}
    <div class="col-6 col-md-3 col-lg-auto mb-3">
      <a href="{% url 'ads:ads_by_category' category.slug %}" class="text-decoration-none">
        <div class="card shadow-sm h-100 category-card-hover text-center">
          <div class="card-body p-2 d-flex flex-column justify-content-center align-items-center">
            <div class="category-icon mb-1">
              {% if category.name == "وسایل نقلیه" %}
                <i class="fas fa-car category-icon-size category-icon-color"></i>
              {% elif category.name == "مسکن" %}
                <i class="fas fa-home category-icon-size category-icon-color"></i>
              {% elif category.name == "کار و خدمات" %}
                <i class="fas fa-briefcase category-icon-size category-icon-color"></i>
              {% elif category.name == "اوقات فراغت" %}
                <i class="fas fa-gamepad category-icon-size category-icon-color"></i>
              {% elif category.name == "غذا و رستوران" %}
                <i class="fas fa-utensils category-icon-size category-icon-color"></i>
              {% elif category.name == "سلامت و رفاه" %}
                <i class="fas fa-heart category-icon-size category-icon-color"></i>
              {% elif category.name == "وسایل منزل" %}
                <i class="fas fa-couch category-icon-size category-icon-color"></i>
              {% elif category.name == "حقوقی و مالی" %}
                <i class="fas fa-gavel category-icon-size category-icon-color"></i>
              {% else %}
                <i class="fas fa-tag category-icon-size category-icon-color"></i>
              {% endif %}
            </div>
            <h6 class="card-title mb-1 text-center category-title-color">{{ category.name }}</h6>
            <span class="badge category-badge-color">
              {{ ad_counts|get_item:category.id|default:0 }} تبلیغ
            </span>
          </div>
        </div>
      </a>
    </div>
    {% empty %}
    <div class="col-12 text-center">
      <p class="text-muted">هنوز دسته‌بندی تبلیغاتی تعریف نشده است.</p>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock content %}
