{% extends "base.html" %} {% load ads_extras %} {% block content %}
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-2">
    <h1 class="mb-0 text-center">تبلیغات</h1>
    {% if user.is_authenticated %}
    <a href="{% url 'ads:create_ad' %}" class="btn btn-primary">
      <i class="fas fa-plus ms-2"></i>ایجاد تبلیغ
    </a>
    {% endif %}
  </div>
  <p class="text-muted text-center mb-5">
    مرور دسته‌بندی‌های تبلیغات. هر دسته‌بندی به فهرست تبلیغات فعال و تأیید شده
    خود منتهی می‌شود.
  </p>

  <!-- Category Icons Row -->
  <div class="row justify-content-center mb-4">
    {% for category in categories %}
    <div class="col-6 col-md-3 col-lg-auto mb-3">
      <a href="{% url 'ads:ads_by_category' category.slug %}" class="text-decoration-none">
        <div class="card shadow-sm h-100 category-card-hover text-center">
          <div class="card-body p-3">
            <div class="category-icon mb-2">
              <i class="{% if category.name %}{{ category.name|category_icon }}{% else %}fas fa-tag{% endif %} fa-2x text-primary"></i>
            </div>
            <h6 class="card-title mb-2">{{ category.name }}</h6>
            <span class="badge bg-primary">
              {{ ad_counts|get_item:category.id|default:0 }} تبلیغ
            </span>
          </div>
        </div>
      </a>
    </div>
    {% empty %}
    <div class="col-12 text-center">
      <p class="text-muted">هنوز دسته‌بندی تبلیغاتی تعریف نشده است.</p>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock content %}
