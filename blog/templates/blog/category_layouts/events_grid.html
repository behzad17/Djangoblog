<!-- Events Grid Layout - One Event Per Row, Centered -->
{% load static %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-lg-10 col-md-12">
      {% if post_list %}
        {% for post in post_list %}
        <div class="event-card-row mb-4">
          <div class="row g-0">
            <!-- Event Image -->
            <div class="col-md-4 event-card-image-wrapper">
              {% if "placeholder" in post.featured_image.url %}
              <img
                src="{% static 'images/default.jpg' %}"
                alt="{{ post.title }}"
                class="event-card-image"
              />
              {% else %}
              <img
                src="{{ post.featured_image.url }}"
                alt="{{ post.title }}"
                class="event-card-image"
              />
              {% endif %}
            </div>
            
            <!-- Event Content -->
            <div class="col-md-8 event-card-content-wrapper">
              <div class="event-card-content">
                <a href="{% url 'post_detail' post.slug %}" class="event-card-title-link">
                  <h2 class="event-card-title">{{ post.title }}</h2>
                </a>
                
                <p class="event-card-description">
                  {% if post.excerpt %}
                    {{ post.excerpt|truncatewords:20 }}
                  {% else %}
                    {{ post.content|striptags|truncatewords:20 }}
                  {% endif %}
                </p>
                
                {% if post.event_start_date %}
                <div class="event-card-date">
                  <i class="fas fa-calendar-alt me-2"></i>
                  <span class="event-date-text">
                    {{ post.event_start_date|date:"M d, Y" }}
                    {% if post.event_end_date %}
                      - {{ post.event_end_date|date:"M d, Y" }}
                    {% endif %}
                  </span>
                </div>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      {% else %}
      <div class="row">
        <div class="col-12">
          <div class="alert alert-info text-center" role="alert">
            <i class="fas fa-info-circle me-2"></i>
            No posts found in this category yet. 
            <a href="{% url 'create_post' %}" class="alert-link">Create the first post!</a>
          </div>
        </div>
      </div>
      {% endif %}
      
      {% if is_paginated %}
      <div class="pagination-container mt-4">
        <nav aria-label="Page navigation">
          <ul class="pagination justify-content-center">
            {% if page_obj.has_previous %}
            <li class="page-item">
              <a href="?page={{ page_obj.previous_page_number }}" class="page-link"
                ><i class="fas fa-chevron-left"></i> Previous</a
              >
            </li>
            {% endif %}
            
            {% if page_obj.has_next %}
            <li class="page-item">
              <a href="?page={{ page_obj.next_page_number }}" class="page-link"
                >Next <i class="fas fa-chevron-right"></i></a
              >
            </li>
            {% endif %}
          </ul>
        </nav>
      </div>
      {% endif %}
    </div>
  </div>
</div>

