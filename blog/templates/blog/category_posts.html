{% extends "base.html" %} {% load static %} {% block content %}
<!-- Category Header Section -->
<section class="py-4 bg-light">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'home' %}">خانه</a></li>
            <li class="breadcrumb-item active" aria-current="page">
              {{ category.name }}
            </li>
          </ol>
        </nav>
        <h1 class="category-page-title">
          <i class="fas fa-tag ms-2"></i>{{ category.name }}
        </h1>
        {% if category.description %}
        <p class="category-description">{{ category.description }}</p>
        {% endif %}
        <p class="text-muted">
          <i class="fas fa-file-alt ms-1"></i>
          {{ post_list|length }} پست در این دسته‌بندی
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Category Filter Section -->
<div class="container-fluid mt-3 mb-4">
  <div class="row">
    <div class="col-12">
      <div class="category-filter-section">
        <h4 class="category-section-title mb-3">
          <i class="fas fa-tags ms-2"></i>همه دسته‌بندی‌ها
        </h4>
        <div class="category-buttons-container">
          <!-- First Row -->
          <div class="category-row">
            {% for cat in categories %} {% if cat.name == "Platform Updates" or
            cat.name == "Careers & Economy" or cat.name == "Life in Sweden" or
            cat.name == "Law & Integration" or cat.name == "Skills & Learning"
            %}
            <a
              href="{% url 'category_posts' cat.slug %}"
              class="category-btn {% if cat.slug == category.slug %}active{% endif %}"
              data-tone="mint"
              title="{{ cat.name }}"
              aria-label="Browse {{ cat.name }} category ({{ cat.post_count }} posts){% if cat.slug == category.slug %} - Current category{% endif %}"
            >
              <span class="category-btn-text">{{ cat.name }}</span>
              <span class="category-btn-count">({{ cat.post_count }})</span>
              <span class="cat-icon">
                {% if cat.name == "Careers & Economy" %}<i
                  class="bi bi-cash-coin"
                ></i>
                {% elif cat.name == "Law & Integration" %}<i
                  class="bi bi-globe"
                ></i>
                {% elif cat.name == "Life in Sweden" %}<i
                  class="bi bi-briefcase"
                ></i>
                {% elif cat.name == "Skills & Learning" %}<i
                  class="bi bi-bank"
                ></i>
                {% elif cat.name == "Platform Updates" %}<i
                  class="bi bi-newspaper"
                ></i>
                {% endif %}
              </span>
            </a>
            {% endif %} {% endfor %}
          </div>

          <!-- Second Row -->
          <div class="category-row">
            {% for cat in categories %} {% if cat.name == "Events &
            Announcements" or cat.name == "Photo Gallery" or cat.name == "Public
            Services" or cat.name == "Stories & Experiences" or cat.name ==
            "Community & Engagement" %}
            <a
              href="{% url 'category_posts' cat.slug %}"
              class="category-btn {% if cat.slug == category.slug %}active{% endif %}"
              data-tone="{% if cat.name == 'Events & Announcements' or cat.name == 'Photo Gallery' %}purple{% else %}peach{% endif %}"
              title="{{ cat.name }}"
              aria-label="Browse {{ cat.name }} category ({{ cat.post_count }} posts){% if cat.slug == category.slug %} - Current category{% endif %}"
            >
              <span class="category-btn-text">{{ cat.name }}</span>
              <span class="category-btn-count">({{ cat.post_count }})</span>
              <span class="cat-icon">
                {% if cat.name == "Events & Announcements" %}<i
                  class="bi bi-calendar-event"
                ></i>
                {% elif cat.name == "Photo Gallery" %}<i
                  class="bi bi-camera"
                ></i>
                {% elif cat.name == "Public Services" %}<i
                  class="bi bi-cart"
                ></i>
                {% elif cat.name == "Stories & Experiences" %}<i
                  class="bi bi-heart-pulse"
                ></i>
                {% elif cat.name == "Community & Engagement" %}<i
                  class="bi bi-translate"
                ></i>
                {% endif %}
              </span>
            </a>
            {% endif %} {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Posts Section - Category-Specific Layout -->
{% if category.slug == 'events-announcements' %} {% include
'blog/category_layouts/events_grid.html' %} {% else %} {% include
'blog/category_layouts/default_grid.html' %} {% endif %} {% endblock %}
