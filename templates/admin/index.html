{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block content %}
<div class="dashboard-stats" style="margin-bottom: 30px;">
  <h2 style="margin-bottom: 20px;">Pending Items Dashboard</h2>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
    
    <!-- Pending Posts -->
    <div class="stat-card" style="background: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
      <h3 style="margin: 0 0 10px 0; font-size: 14px; color: #666;">ğŸ“ Draft Posts</h3>
      <div style="font-size: 32px; font-weight: bold; color: {% if pending_posts > 0 %}#d32f2f{% else %}#4caf50{% endif %}; margin: 10px 0;">
        {{ pending_posts|default:0 }}
      </div>
      {% if pending_posts > 0 %}
      <a href="{% url 'admin:blog_post_changelist' %}?status__exact=0" 
         style="display: inline-block; margin-top: 10px; padding: 6px 12px; background: #417690; color: white; text-decoration: none; border-radius: 4px; font-size: 12px;">
        Review
      </a>
      {% endif %}
    </div>
    
    <!-- Pending Ads -->
    <div class="stat-card" style="background: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
      <h3 style="margin: 0 0 10px 0; font-size: 14px; color: #666;">ğŸ“¢ Pending Ads</h3>
      <div style="font-size: 32px; font-weight: bold; color: {% if pending_ads > 0 %}#d32f2f{% else %}#4caf50{% endif %}; margin: 10px 0;">
        {{ pending_ads|default:0 }}
      </div>
      {% if pending_ads > 0 %}
      <a href="{% url 'admin:ads_ad_changelist' %}?is_approved__exact=0" 
         style="display: inline-block; margin-top: 10px; padding: 6px 12px; background: #417690; color: white; text-decoration: none; border-radius: 4px; font-size: 12px;">
        Review
      </a>
      {% endif %}
    </div>
    
    <!-- Pending Questions -->
    <div class="stat-card" style="background: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
      <h3 style="margin: 0 0 10px 0; font-size: 14px; color: #666;">â“ Pending Questions</h3>
      <div style="font-size: 32px; font-weight: bold; color: {% if pending_questions > 0 %}#d32f2f{% else %}#4caf50{% endif %}; margin: 10px 0;">
        {{ pending_questions|default:0 }}
      </div>
      {% if pending_questions > 0 %}
      <a href="{% url 'admin:askme_question_changelist' %}?answered__exact=0" 
         style="display: inline-block; margin-top: 10px; padding: 6px 12px; background: #417690; color: white; text-decoration: none; border-radius: 4px; font-size: 12px;">
        Review
      </a>
      {% endif %}
    </div>
    
    <!-- Pending Comments -->
    <div class="stat-card" style="background: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
      <h3 style="margin: 0 0 10px 0; font-size: 14px; color: #666;">ğŸ’¬ Pending Comments</h3>
      <div style="font-size: 32px; font-weight: bold; color: {% if pending_comments > 0 %}#d32f2f{% else %}#4caf50{% endif %}; margin: 10px 0;">
        {{ pending_comments|default:0 }}
      </div>
      {% if pending_comments > 0 %}
      <a href="{% url 'admin:blog_comment_changelist' %}?approved__exact=0" 
         style="display: inline-block; margin-top: 10px; padding: 6px 12px; background: #417690; color: white; text-decoration: none; border-radius: 4px; font-size: 12px;">
        Review
      </a>
      {% endif %}
    </div>
    
    <!-- Pending URLs -->
    <div class="stat-card" style="background: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
      <h3 style="margin: 0 0 10px 0; font-size: 14px; color: #666;">ğŸ”— Pending URLs</h3>
      <div style="font-size: 32px; font-weight: bold; color: {% if pending_urls > 0 %}#ff9800{% else %}#4caf50{% endif %}; margin: 10px 0;">
        {{ pending_urls|default:0 }}
      </div>
      {% if pending_urls > 0 %}
      <a href="{% url 'admin:incoming_items' %}" 
         style="display: inline-block; margin-top: 10px; padding: 6px 12px; background: #417690; color: white; text-decoration: none; border-radius: 4px; font-size: 12px;">
        Review
      </a>
      {% endif %}
    </div>
    
    <!-- Recent Expert Posts -->
    <div class="stat-card" style="background: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
      <h3 style="margin: 0 0 10px 0; font-size: 14px; color: #666;">â­ Expert Posts (24h)</h3>
      <div style="font-size: 32px; font-weight: bold; color: #2196f3; margin: 10px 0;">
        {{ recent_expert_posts|default:0 }}
      </div>
      {% if recent_expert_posts > 0 %}
      <a href="{% url 'admin:blog_post_changelist' %}?author__profile__can_publish_without_approval__exact=1" 
         style="display: inline-block; margin-top: 10px; padding: 6px 12px; background: #417690; color: white; text-decoration: none; border-radius: 4px; font-size: 12px;">
        View
      </a>
      {% endif %}
    </div>
    
  </div>
</div>

<!-- Default Django Admin Index Content -->
{% if app_list %}
    {% for app in app_list %}
        <div class="app-{{ app.app_label }} module">
            <table>
                <caption>
                    <a href="{{ app.app_url }}" class="section" title="{% blocktranslate with name=app.name %}Models in the {{ name }} application{% endblocktranslate %}">{{ app.name }}</a>
                </caption>
                {% for model in app.models %}
                    <tr class="model-{{ model.object_name|lower }}">
                        {% if model.admin_url %}
                            <th scope="row"><a href="{{ model.admin_url }}">{{ model.name }}</a></th>
                        {% else %}
                            <th scope="row">{{ model.name }}</th>
                        {% endif %}

                        {% if model.add_url %}
                            <td><a href="{{ model.add_url }}" class="addlink">{% translate 'Add' %}</a></td>
                        {% else %}
                            <td>&nbsp;</td>
                        {% endif %}

                        {% if model.admin_url %}
                            {% if model.view_only %}
                                <td><a href="{{ model.admin_url }}" class="viewlink">{% translate 'View' %}</a></td>
                            {% else %}
                                <td><a href="{{ model.admin_url }}" class="changelink">{% translate 'Change' %}</a></td>
                            {% endif %}
                        {% else %}
                            <td>&nbsp;</td>
                        {% endif %}
                    </tr>
                {% endfor %}
            </table>
        </div>
    {% endfor %}
{% else %}
    <p>{% translate "You don't have permission to view or edit anything." %}</p>
{% endif %}
{% endblock %}

